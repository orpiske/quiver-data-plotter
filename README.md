Quiver Data Plotter: A Java library to plot Quiver performance report files
============


Introduction
----

This library reads compressed CSV files generated by the [Quiver Test Tool](https://github.com/ssorj/quiver/) and plot them. It makes it
easier to integrate processing of those files into custom automation tools without relying on Excel, GNUPlot or
GoogleCharts.
It can be used as a command-line tool or it can be integrated in other projects as a library.


Building
----

**Build Reports**

Build Status: [![Build Status](https://travis-ci.org/orpiske/quiver-data-plotter.svg?branch=master)](https://travis-ci.org/orpiske/quiver-data-plotter)

Codacy Report: [![Codacy Badge](https://api.codacy.com/project/badge/Grade/b09e4a11c0494f4c86da8d99d89bc3bc)](https://www.codacy.com/app/orpiske/quiver-data-plotter?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=orpiske/quiver-data-plotter&amp;utm_campaign=Badge_Grade)

**Build Steps**

```
mvn clean install
```



Using as Command Line Tool
----

Run:

```
./qdp-data-plotter -d ~/path/to/quiver/output/dir/
```

Using as Library
----

**Dependencies**:

To use this project as library on your project you have to add my personal 
[bintray](https://bintray.com/orpiske/libs-release/) repository to the pom.xml
file:

```
<repositories>
    <repository>
        <id>orpiske-repo</id>
        <url>https://dl.bintray.com/orpiske/libs-release</url>
    </repository>
</repositories>
```

Then, the library can be referenced as: 
```
<dependency>
    <groupId>net.orpiske</groupId>
    <artifactId>quiver-data-plotter</artifactId>
    <version>1.0.0</version>
</dependency>
```

**Note**: replace version with the latest available version you wish to use.

**API**:

Sample usage:

```
// Create a walker for the directory where the Quiver files are
QuiverReportWalker reportWalker = new QuiverReportWalker();

// Traverse the directory processing the files and plotting them
File outputDirectory = new File(directory);
reportWalker.walk(outputDirectory);

// Generate the HTML reports for the files
IndexRenderer indexRenderer = new IndexRenderer();
renderSenderPage(indexRenderer, outputDirectory);
renderReceiverPage(indexRenderer, outputDirectory);
renderIndexPage(indexRenderer, outputDirectory);

// Copy the common assets
indexRenderer.copyResources(outputDirectory);
```

Output
----

The processing will generate the following files: 

```
/path/to/sender-snapshots_rate.png
/path/to/sender-snapshots_cpu.png
/path/to/sender-snapshots_rss.png
/path/to/sender-snapshots.properties
/path/to/receiver-snapshots_rate.png
/path/to/receiver-snapshots_cpu.png
/path/to/receiver-snapshots_rss.png
/path/to/receiver-snapshots_latency.png
/path/to/receiver-snapshots.properties
```

Deploying in Self-Maintained Maven Repository
----

If you maintain your own Maven repository, you can deploy this library using:

```
mvn deploy -DaltDeploymentRepository=libs-snapshot::default::http://hostname:8081/path/to/libs-snapshot-local
```
